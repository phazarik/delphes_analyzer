# Delphes tree analyzer

This repository contains analysis codes that make histograms from Delphes trees. The template is made from a tree generated with Delphes-3.5.0.  Contact me if the code fails to run with different version of Delphes. The codes are structured as follows.
```
.
├── BookHistograms.h   -> Declaration of histograms with x-range and binning.
├── Functions.h        -> Additional functions.
├── ana.C              -> Driver script handling inputs and outputs.
├── delAna.C           -> Main analysis script that needs to be compiled.
├── delAna.h           -> Header containing the analyzer class.
├── inputs             -> Directory containing the input Delphes trees.
├── outputs            -> Output directory where histograms and text files are generated.
└── Overlay/overlay.C  -> Reads from the hst files from outputs and makes histograms.
```

### Making histograms
- Open the ROOT prompt and load the additional Delphes libraries.
```
gInterpreter->AddIncludePath("path to delphes base directory");
gInterpreter->AddIncludePath("delphes base directory/external");
gSystem->Load("delphes base directory/libDelphes.so");
```
- Compile the main analysis codes. This produces and loads the compiled library.
```
.L delAna.C+
```
- Run the driver script on the compiled library.
```
.x ana.C(0)
```

### Making overlays
After the `hst_<process name>.root` files are generated by the analysis code, an overlay of some plot inside these files can be made as follows.
-   Go to the directory  `Overlay/`
-   Put the name of the input files and required the plot in  `overlay.C`
-   Run the following inside the ROOT prompt.
```
.x overlay.C
```